webpackJsonp([42],{W6jJ:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("3cXf"),n=e.n(l),o={name:"teacher",data:function(){return{value1:"",value2:"",tableData:[],cur_page:1,pages:0,s_student:"",s_school:"",s_grade:"",s_klass:"",active:"",channel:"",channeldata:"",time:"",p_phone:""}},created:function(){this.getlistdata(),this.getchanneldata()},computed:{},methods:{getlistdata:function(){var t=this;this.$get("users").then(function(a){if(console.log(a),1===a.code){t.tableData=a.info.items;for(var e=0;e<t.tableData.length;e++)0==t.tableData[e].active?t.tableData[e].active="未激活":t.tableData[e].active="已激活";for(e=0;e<t.tableData.length;e++)0==t.tableData[e].os?t.tableData[e].os="Android":1==t.tableData[e].os?t.tableData[e].os="IOS":2==t.tableData[e].os?t.tableData[e].os="Web":4==t.tableData[e].os?t.tableData[e].os="其他":t.tableData[e].os=""}else t.$message.error("数据加载失败");t.loading=!1}).catch(function(){t.loading=!1})},getchanneldata:function(){var t=this;this.$get("channels").then(function(a){console.log(a),1===a.code?t.channeldata=a.info.items:t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})},handleCurrentChange:function(t){var a=this;this.loading=!0,this.$get("users",{pageNum:t,studentName:this.s_student}).then(function(t){0===t.code?(a.tableData=JSON.parse(n()(t.data.list)),a.pages=t.data.pages):a.$message.error("学生加载失败"),a.loading=!1}).catch(function(){a.loading=!1})},search:function(){var t=this;this.loading=!0,console.log(this.start_time),this.$get("users",{channel_id:this.channel?this.channel:"",active:this.active?this.active:"",start_time:this.time[0],end_time:this.time[1]}).then(function(a){if(console.log(a),1===a.code){t.tableData=JSON.parse(n()(a.info.items));for(var e=0;e<t.tableData.length;e++)0==t.tableData[e].active?t.tableData[e].active="未激活":t.tableData[e].active="已激活";for(e=0;e<t.tableData.length;e++)0==t.tableData[e].os?t.tableData[e].os="Android":1==t.tableData[e].os?t.tableData[e].os="IOS":2==t.tableData[e].os?t.tableData[e].os="Web":4==t.tableData[e].os?t.tableData[e].os="其他":t.tableData[e].os=""}else t.$message.error("数据加载失败");t.loading=!1}).catch(function(){t.loading=!1})}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"container-title"},[t._v("无忧贷用户列表")]),t._v(" "),e("div",{staticClass:"mgb20"},[e("el-row",{staticClass:"clearfix",attrs:{gutter:10}},[e("el-col",{attrs:{span:2}},[e("el-select",{attrs:{placeholder:"请选择渠道"},model:{value:t.channel,callback:function(a){t.channel=a},expression:"channel"}},[t._l(t.channeldata,function(t){return[e("el-option",{attrs:{label:t.name,value:t.id}})]})],2)],1),t._v(" "),e("el-col",{attrs:{span:2}},[e("el-select",{attrs:{placeholder:"请选择激活状态"},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},[e("el-option",{attrs:{label:"已激活",value:"1"}}),t._v(" "),e("el-option",{attrs:{label:"未激活",value:"0"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:4}},[e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.time,callback:function(a){t.time=a},expression:"time"}})],1),t._v(" "),e("el-col",{attrs:{span:2}},[e("el-input",{attrs:{placeholder:"输入用户手机号"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.search(a)}},model:{value:t.p_phone,callback:function(a){t.p_phone="string"==typeof a?a.trim():a},expression:"p_phone"}})],1),t._v(" "),e("el-col",{attrs:{span:2}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),e("el-col",{attrs:{span:2}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[t._v("导出")])],1)],1)],1),t._v(" "),e("el-table",{ref:"multipleTable",attrs:{data:t.tableData,border:"",size:"medium"}},[e("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"active",label:"是否激活",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"active_time",label:"激活时间",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"last_login_time",label:"最近打开时间",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"device_id",label:"设备号",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"channel",label:"渠道",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"klass",label:"版本号",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"os",label:"设备系统",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("router-link",{attrs:{to:{path:"CPA",query:{row:a.row}}}},[e("el-button",{attrs:{size:"mini"}},[t._v("\n                                    CPA\n                                ")])],1),t._v(" "),e("router-link",{attrs:{to:{path:"active",query:{row:a.row}}}},[e("el-button",{attrs:{size:"mini"}},[t._v("\n                                    活跃日期\n                                ")])],1)]}}])})],1),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-count":t.pages},on:{"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var i=e("C7Lr")(o,s,!1,function(t){e("oQKc")},"data-v-2cf043ad",null);a.default=i.exports},oQKc:function(t,a){}});