webpackJsonp([25],{"4mR9":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("a3Yh"),a=r.n(o),l=(r("oTFt"),r("9GaO"),r("v/ij"),r("aiqZ")),s={name:"addproject",components:{quillEditor:l.quillEditor},data:function(){var t,e=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/;return{radio1:3,radio2:6,form:{projectNo:"",projectName:"",startDate:"",expDate:"",amt:"",memo:""},rules:(t={projectNo:[{required:!0,message:"不可为空！",trigger:"blur"}]},a()(t,"projectNo",[{required:!0,message:"不可为空！",trigger:"blur"}]),a()(t,"amt",[{required:!0,validator:function(t,r,o){e.test(r)?o():o(new Error("请输入正确的格式"))},trigger:"blur"}]),a()(t,"startDate",[{required:!0,message:"不可为空！",trigger:"blur"}]),a()(t,"expDate",[{required:!0,message:"不可为空！",trigger:"blur"}]),t)}},created:function(){},computed:{},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$post("projects",{projectNo:e.form.projectNo,projectName:e.form.projectName,startDate:e.form.startDate,expDate:e.form.expDate,amt:e.form.amt,memo:e.form.memo}).then(function(t){0===t.code?(e.$message({message:t.msg,type:"success"}),e.$emit("closedialog")):e.$message.error(t.msg)})})},resetForm:function(t){this.$refs[t].resetFields()}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"container-title"},[t._v("新建通知")]),t._v(" "),r("el-form",{ref:"form",staticClass:"item-add-list",attrs:{model:t.form,rules:t.rules}},[r("el-row",{staticClass:"clearfix",attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"名称:",prop:"projectNo"}},[r("el-input",{attrs:{type:"text"},model:{value:t.form.projectNo,callback:function(e){t.$set(t.form,"projectNo","string"==typeof e?e.trim():e)},expression:"form.projectNo"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"描述:",prop:"projectName"}},[r("el-input",{model:{value:t.form.projectName,callback:function(e){t.$set(t.form,"projectName","string"==typeof e?e.trim():e)},expression:"form.projectName"}}),t._v(" "),r("span",{staticStyle:{color:"#999"}},[t._v("U函数解析的URL")])],1)],1)],1),t._v(" "),r("el-row",{staticClass:"clearfix",attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"内容",prop:"amt"}},[r("quill-editor",{ref:"myTextEditor",attrs:{options:t.editorOption},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"图片",prop:"memo"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)],1),t._v(" "),r("el-row",{staticClass:"clearfix",attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"链接地址",prop:"memo"}},[r("el-input",{attrs:{type:"text"},model:{value:t.form.projectNo,callback:function(e){t.$set(t.form,"projectNo","string"==typeof e?e.trim():e)},expression:"form.projectNo"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品id",prop:"memo"}},[r("el-input",{attrs:{type:"text"},model:{value:t.form.projectNo,callback:function(e){t.$set(t.form,"projectNo","string"==typeof e?e.trim():e)},expression:"form.projectNo"}})],1)],1)],1),t._v(" "),r("el-row",{staticClass:"clearfix",attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"可见类型",prop:"expDate"}},[r("el-select",{attrs:{placeholder:"否"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[r("el-option",{attrs:{label:"所有人",value:"shanghai"}}),t._v(" "),r("el-option",{attrs:{label:"指定人",value:"beijing"}})],1)],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"用户id",prop:"memo"}},[r("el-input",{model:{value:t.form.memo,callback:function(e){t.$set(t.form,"memo","string"==typeof e?e.trim():e)},expression:"form.memo"}})],1)],1)],1),t._v(" "),r("el-row",{staticClass:"clearfix",attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否为产品",prop:"memo"}},[r("el-select",{attrs:{placeholder:"否"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[r("el-option",{attrs:{label:"是",value:"shanghai"}}),t._v(" "),r("el-option",{attrs:{label:"否",value:"beijing"}})],1)],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"用户id",prop:"memo"}},[r("el-input",{model:{value:t.form.memo,callback:function(e){t.$set(t.form,"memo","string"==typeof e?e.trim():e)},expression:"form.memo"}})],1)],1)],1),t._v(" "),r("el-row",{staticClass:"clearfix",attrs:{gutter:10}},[r("el-col",{attrs:{span:20,offset:4}},[r("el-button",{staticStyle:{"margin-top":"40px"},attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")]),t._v(" "),r("router-link",{attrs:{to:{path:"menumanagement"}}},[r("el-button",{attrs:{type:"primary"}},[t._v("取消")])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var m=r("C7Lr")(s,i,!1,function(t){r("KPAE")},"data-v-4f3f72a4",null);e.default=m.exports},KPAE:function(t,e){}});