webpackJsonp([16],{"8BHy":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("3cXf"),l=a.n(o),s={name:"teacher",data:function(){return{value1:"",value2:"",tableData:[],cur_page:1,pages:0,s_student:"",s_school:"",s_grade:"",s_klass:"",condata:"",dissend:!1,send:!0,active:"",channel:"",channeldata:"",time:"",p_phone:"",goods_order_id:"",dialogFormVisible:!1,form:{num:"",phone:"",goods_order_id:"",com:""}}},created:function(){this.getlistdata(),this.getcomdata()},computed:{},methods:{getcomdata:function(){var t=this;this.$get("goods-order/get-deliver-num").then(function(e){console.log(e),1===e.code?(t.comdata=e.info,t.pageCount=e.info._meta.pageCount,console.log(t.comdata)):t.$message.error(e.message),t.loading=!1}).catch(function(){t.loading=!1})},editlogitics:function(t,e){this.dialogFormVisible=!0,this.goods_order_id=t.row.id},getlistdata:function(){var t=this;this.$get("goods-orders").then(function(e){if(console.log(e),1===e.code){t.tableData=e.info.items;for(var a=0;a<t.tableData.length;a++)1==t.tableData[a].status?t.tableData[a].status="已提交":2==t.tableData[a].status?t.tableData[a].status="已付款":3==t.tableData[a].status?t.tableData[a].status="已发货":4==t.tableData[a].status?t.tableData[a].status="已收货":5==t.tableData[a].status?t.tableData[a].status="已取消":t.tableData[a].status="已完成"}else t.$message.error("数据加载失败");t.loading=!1}).catch(function(){t.loading=!1})},handleCurrentChange:function(t){var e=this;this.loading=!0,this.$get("goods-orders",{pageNum:t}).then(function(t){if(0===t.code){e.tableData=JSON.parse(l()(t.data.items));for(var a=0;a<e.tableData.length;a++)1==e.tableData[a].status?e.tableData[a].status="已提交":2==e.tableData[a].status?e.tableData[a].status="已付款":3==e.tableData[a].status?e.tableData[a].status="已发货":4==e.tableData[a].status?e.tableData[a].status="已收货":5==e.tableData[a].status?e.tableData[a].status="已取消":e.tableData[a].status="已完成";e.pages=t.data.pages}else e.$message.error("数据加载失败");e.loading=!1}).catch(function(){e.loading=!1})},checklogitics:function(t,e){var a=this;console.log(t),console.log(t.row.id),this.$post("goods-order/deliver-good",{num:this.form.num,com:this.form.com,phone:this.form.phone,goods_order_id:this.goods_order_id}).then(function(t){a.getlistdata(),a.dialogFormVisible=!1}).catch(function(){a.loading=!1})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"container-title"},[t._v("订单列表")]),t._v(" "),a("div",{staticClass:"mgb20"}),t._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:t.tableData,border:"",size:"medium"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_sign",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名字",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_specification",label:"商品规格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_service",label:"服务",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receive_addr",label:"收货地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_image",label:"商品图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"head_pic",attrs:{src:t.row.goods_image,width:"40",height:"40"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"300",prop:"deliver_status"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.deliver_status?a("el-button",{attrs:{size:"mini",type:"success"}},[t._v("已发货")]):t._e(),t._v(" "),e.row.deliver_status?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.editlogitics(e,t.row)}}},[t._v("\n                            发货\n                        ")]),t._v(" "),a("el-dialog",{attrs:{title:"添加物流",visible:t.dialogFormVisible,width:"25%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"快递单号 :",prop:"num"}},[a("el-input",{attrs:{type:"text"},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num","string"==typeof e?e.trim():e)},expression:"form.num"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号:",prop:"phone"}},[a("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"==typeof e?e.trim():e)},expression:"form.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"快递公司：",prop:"com"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择快递公司"},model:{value:t.form.com,callback:function(e){t.$set(t.form,"com",e)},expression:"form.com"}},[t._l(t.comdata,function(t){return[a("el-option",{key:t.id,attrs:{label:t.company_name,value:t.company_num}})]})],2)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.checklogitics(e,t.row)}}},[t._v("确 定")])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-count":t.pages},on:{"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var i=a("C7Lr")(s,n,!1,function(t){a("d9zH")},"data-v-9e213404",null);e.default=i.exports},d9zH:function(t,e){}});