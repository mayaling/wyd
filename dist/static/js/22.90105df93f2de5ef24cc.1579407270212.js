webpackJsonp([22],{"+8fj":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),l=a.n(n),o=a("a3Yh"),i=a.n(o),r=a("urnN"),s=a.n(r);Vue.use(s.a);var c={name:"teacher",data:function(){var e;return e={p_mobile:"",p_name:"",status:"",value1:"",value2:"",tableData:[],currentPage:1,totalCount:1,pageSizes:[3,5,10,20],PageSize:20,cur_page:1,pages:0,s_student:"",s_school:"",s_grade:"",s_klass:"",region:"",region1:""},i()(e,"tableData",""),i()(e,"applynum",""),e},created:function(){this.getapply(),this.getlistdata()},computed:{},methods:{getapply:function(){var e=this;this.$get("apply-record/count").then(function(t){console.log(t),1===t.code?e.applynum=t.info:e.$message.error("数据加载失败"),e.loading=!1}).catch(function(){e.loading=!1})},getlistdata:function(){var e=this;this.$get("apply-record/index").then(function(t){console.log(t),1===t.code?(e.tableData=t.info.items,e.pages=t.info._meta.pageCount):e.$message.error("数据加载失败"),e.loading=!1}).catch(function(){e.loading=!1})},search:function(){var e=this;this.loading=!0,this.$get("apply-record/index",{mobile:this.p_mobile?this.p_mobile:"",name:this.p_name?this.p_name:""}).then(function(t){1===t.code?(e.tableData=JSON.parse(l()(t.info.items)),e.pages=t.info._meta.pageCount,console.log(e.pages)):e.$message.error("数据"),e.loading=!1}).catch(function(){e.loading=!1})},onCopy:function(e){this.$message({message:"复制链接成功",type:"success"})},onError:function(e){console.log(e)},handleCurrentChange:function(e){var t=this;this.loading=!0,this.$get("apply-record/index",{page:e,mobile:this.p_mobile?this.p_mobile:"",name:this.p_name?this.p_name:""}).then(function(e){1===e.code?(t.tableData=JSON.parse(l()(e.info.items)),t.pages=e.info._meta.pageCount,console.log(t.pages)):t.$message.error("数据加载失败"),t.loading=!1}).catch(function(){t.loading=!1})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table",attrs:{"element-loading-text":"加载中"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"container-title"},[e._v("申请记录")]),e._v(" "),a("div",{staticClass:"mgb20"},[a("el-button",{attrs:{type:"primary"}},[e._v("今日申请人数:"+e._s(e.applynum.today_num))]),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("累计申请人数:"+e._s(e.applynum.total_num))]),e._v(" "),a("el-row",{staticStyle:{float:"right"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"手机号",clearable:"true"},on:{change:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.p_mobile,callback:function(t){e.p_mobile="string"==typeof t?t.trim():t},expression:"p_mobile"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"名称",clearable:"true"},on:{change:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.p_name,callback:function(t){e.p_name="string"==typeof t?t.trim():t},expression:"p_name"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,border:"",size:"medium",stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channel_name",label:"渠道名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product_name",label:"产品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"apply_time",label:"申请时间",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-count":e.pages},on:{"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var u=a("C7Lr")(c,p,!1,function(e){a("OJ0d")},"data-v-662a50bf",null);t.default=u.exports},OJ0d:function(e,t){}});